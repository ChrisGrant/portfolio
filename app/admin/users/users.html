<div class="admin admin-users">

  <a class="btn btn-success pull-right" ui-sref='app.admin.users.create'>
    Create New User
  </a>

  <h3>Users</h3>

  <table class="table table-hover table-striped">
    <thead>
      <td>
        <a ng-click="usersController.sortClicked('firstName')">
          First Name
          <span ng-show="usersController.sortType == 'firstName'"
                ng-class="usersController.sortReverse ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"
                class="glyphicon pull-right"
                aria-hidden="true">
          </span>
        </a>
      </td>
      <td>
        <a ng-click="usersController.sortClicked('lastName')">
          Last Name
          <span ng-show="usersController.sortType == 'lastName'"
                ng-class="usersController.sortReverse ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"
                class="glyphicon"
                aria-hidden="true">
          </span>
        </a>
      </td>
      <td>
        Corporation
        <div class="btn-group pull-right">
          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="glyphicon glyphicon-filter" arian-hidden="true"></span><span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
            <li ng-class="usersController.classForFilterItem()">
              <a ng-click="usersController.removeCorporationFilter()">All</a>
            </li>
            <li role="separator" class="divider"></li>
            <li ng-repeat="corporation in usersController.corporations" ng-class="usersController.classForFilterItem(corporation)">
              <a ng-click="usersController.selectedCorporationFilter(corporation)">{{corporation.attributes.name}}</a>
            </li>
          </ul>
        </div>
      </td>
      <td>
        <a ng-click="usersController.sortClicked('username')">
          Username
          <span ng-show="usersController.sortType == 'username'"
                ng-class="usersController.sortReverse ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"
                class="glyphicon"
                aria-hidden="true">
          </span>
        </a>
      </td>
      <td>
        <a ng-click="usersController.sortClicked('email')">
          Email
          <span ng-show="usersController.sortType == 'email'"
                ng-class="usersController.sortReverse ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"
                class="glyphicon"
                aria-hidden="true">
          </span>
        </a>
      </td>
    </thead>

    <tr ng-repeat="contact in usersController.contacts" ui-sref="app.admin.users.detail({ id: contact.attributes.username })">
      <td>{{ contact.attributes.firstName }}</td>
      <td>{{ contact.attributes.lastName }}</td>
      <td>{{ contact.attributes.corporation.attributes.name }}</td>
      <td>{{ contact.attributes.username }}</td>
      <td>{{ contact.attributes.email }}</td>
    </tr>

    <tfoot ng-show="totalItems > usersController.itemsPerPage">
      <td colspan="5" class="text-center">
            <pagination boundary-links="true" 
                        total-items="totalItems"
                        items-per-page="usersController.itemsPerPage"
                        ng-model="currentPage"
                        ng-change="usersController.pageChanged()"
                        class="pagination-sm"
                        previous-text="&lsaquo;"
                        next-text="&rsaquo;"
                        first-text="&laquo;"
                        last-text="&raquo;">
            </pagination>
      </td>
    </tfoot>

  </table>

</div>
